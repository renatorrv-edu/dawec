
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ej12</title>
</head>
<body>
  <input type="button" value="Calcular números casi primos" id="boton" />
  <br><br>
  <table border ="1" style="border-collapse: collapse; text-align: center;" id="tabla"></table>
  <script>
    const tabla = document.getElementById('tabla');
    const boton = document.getElementById('boton');

    let num = 1;

    for (let tr = 0; tr < 100; tr++) {
      let fila = document.createElement('tr');
      tabla.appendChild(fila);

      for (let td = 0; td < 100; td++) {
        let celda = document.createElement('td');
        celda.innerHTML = num;
        celda.style.padding = '5px';

        fila.appendChild(celda);

        num++;
      }
    }

    boton.addEventListener('click', function (e) {
      let celdas = tabla.getElementsByTagName('td');

      for (let i = 0; i < celdas.length; i++) {
        if (casiPrimo(parseInt(celdas[i].innerHTML))) {
          celdas[i].style.backgroundColor = '#FFEE8C';
          celdas[i].style.fontWeight = 'bold';
        }
      }

    })

    function casiPrimo(num) {
      /*Esta función se encargará de recoger un número y comprobar si es casi primo. Esto quiere decir que es solo divisible entre tres números.
      Se recibe el número y se va comprobando si es divisible entre todos los números desde 1 hasta él mismo. Luego devuelve true o false dependiendo de si
      el número de divisores es tres.*/

      // Inicializamos esta variable en 1, ya que todos los números son divisibles entre 1. 
      let divisores = 1;
      
      for (let i = 2; i <= num; i++) {
        if (num % i == 0) {
          divisores++;
        }
      }

      //Esto devolverá un valor booleano.
      return divisores == 3;
    }
  </script>
</body>
</html>